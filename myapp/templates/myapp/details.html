
{% extends 'myapp/base.html' %}

    {% block body %}
<div class="flex flex-col xl:flex-row items-center justify-center m-20 text-neutral-900 bg-lime-200 rounded-r-full">
    <div class="p-10 bg-green">
        <img  class="w-128 rounded max-w-none shrink-0 shadow-xl/100" src="{{curiosity.picture}}">
    </div>
    <div class="pl-20 pr-20 flex-1 min-w-0" >
       <div class="m-10 font-bold text-3xl text-center">
              <h2>
                {{curiosity}}
             </h2>
        </div>
        <div class="m-10 text-xl text-left leading-relaxed font-semibold text-neutral-700">
             <p>
            {{curiosity.content}}
             </p>
        </div>

    </div>

</div>


<div class=" flex flex-col items-center justify-center bg-lime-200 w-1/2 mx-auto rounded-t-full pt-40 px-10">
    {% if user.is_authenticated %}
    <div>
        <form method="post" class = "flex flex-col items-center">
            {% csrf_token %}
            <div class="font-medium">Dorzuć swoje trzy grosze</div>
            <div class="bg-lime-100 rounded-2xl">
                {{ comment_form.content }}
            </div>
            <button type="submit" class="bg-lime-900 hover:bg-lime-900/80 font-semibold text-lime-100 m-2 rounded-full py-2 px-4">Prześlij</button>
        </form>
    </div>
    {% else %}
    <a href="{% url 'users:login' %}">
        <div class="bg-lime-100 rounded-2xl p-10 mb-10 font-semibold hover:bg-lime-100/70">
        Zaloguj się, aby dodać komentarz
    </div>
    </a>

    {% endif %}
    {% for comment in curiosity.comment_set.all %}


    <div class="flex flex-col bg-lime-100 px-5 pb-0 m-3 rounded-full">
        <div  class="flex flex-row m-3 items-center">
             <div class = "mr-2 font-bold">
                {{comment.user}} twierdzi:
            </div>
            <div class="grow max-w-[80ch] mx-5 break-words ">
                {{comment}}
            </div>
        </div>

        <time class="text-xs text-center" datetime="{{ comment.created_on|date:'c' }}">
            {{ comment.created_on|date:"Y-m-d H:i" }}
        </time>
    </div>




    {% endfor %}
</div>


    {% endblock %}
